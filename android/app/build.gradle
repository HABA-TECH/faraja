def localProperties = new Properties()
def localPropertiesFile = rootProject.file('local.properties')
if (localPropertiesFile.exists()) {
    localPropertiesFile.withReader('UTF-8') { reader ->
        localProperties.load(reader)
    }
}
def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file('key.properties')
if (keystorePropertiesFile.exists()) {
    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}
def flutterRoot = localProperties.getProperty('flutter.sdk')
if (flutterRoot == null) {
    throw  GradleException("Flutter SDK not found. Define location with flutter.sdk in the local.properties file.")
}

def flutterVersionCode = localProperties.getProperty('flutter.versionCode')
if (flutterVersionCode == null) {
    flutterVersionCode = '1'
}

def flutterVersionName = localProperties.getProperty('flutter.versionName')
if (flutterVersionName == null) {
    flutterVersionName = '1.0'
}

apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'  
apply plugin: 'com.google.gms.google-services'
apply from: "$flutterRoot/packages/flutter_tools/gradle/flutter.gradle"

apply from: 'topon.gradle'
 
android {

    // ----- BEGIN flavorDimensions (autogenerated by flutter_flavorizr) -----
    flavorDimensions "flavor-type"
    

    productFlavors {
        dev {
            dimension "flavor-type"
            applicationId "com.faraja.android"
            resValue "string", "app_name", "Faraja "
        }
        live {
            dimension "flavor-type"
            applicationId "com.faraja.android"
            resValue "string", "app_name", "Faraja"
        }
    }
    

    // ----- END flavorDimensions (autogenerated by flutter_flavorizr) -----
    compileSdkVersion flutter.compileSdkVersion
    ndkVersion flutter.ndkVersion

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = '1.8'
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
    }

    defaultConfig {
        applicationId "com.faraja.android"
        minSdkVersion 21
        targetSdkVersion 34
        versionCode 2
        versionName "1.0.1"
    }
    signingConfigs {
        release {
            keyAlias keystoreProperties['keyAlias']
            keyPassword keystoreProperties['keyPassword']
            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null
            storePassword keystoreProperties['storePassword']
        }
    }
    buildTypes {
        release {
            shrinkResources true
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.release
        }
    }

    //Helium
    packagingOptions {
        merge "META-INF/com.android.tools/proguard/coroutines.pro"
        exclude "META-INF/*.kotlin_module"
    }

}
 

flutter {
    source '../..'
}


dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    implementation platform('com.google.firebase:firebase-bom:32.2.0')
    implementation platform('com.google.firebase:firebase-bom:30.2.0')


     //Anythink (Necessary)
    implementation group: 'com.anythink.sdk', name: 'core', version: '6.2.60'
    api "com.anythink.sdk:nativead:5.9.85"
    api "com.anythink.sdk:banner:5.9.85"
    api "com.anythink.sdk:interstitial:5.9.85"
    api "com.anythink.sdk:rewardedvideo:5.9.85"
    api "com.anythink.sdk:splash:5.9.85"

    //Androidx (Necessary)
    api "androidx.appcompat:appcompat:1.1.0"

    //Maio
    api "com.anythink.sdk:adapter-maio:5.9.85"
    api "com.maio:android-sdk:1.1.15@aar"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //StartApp
    api "com.anythink.sdk:adapter-startapp:5.9.85"
    api "com.startapp:inapp-sdk:4.9.2"

    //Nend
    api "com.anythink.sdk:adapter-nend:5.9.85"
    api "net.nend.android:nend-sdk:7.0.3"
    api "androidx.constraintlayout:constraintlayout:2.0.1"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"
    api "androidx.preference:preference:1.1.1"

    //Vungle
    api "com.anythink.sdk:adapter-vungle:5.9.85"
    api "com.vungle:publisher-sdk-android:6.11.0"
    api "androidx.core:core:1.3.2"
    api "androidx.localbroadcastmanager:localbroadcastmanager:1.0.0"
    api "com.google.android.gms:play-services-basement:17.5.0"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //UnityAds
    api "com.anythink.sdk:adapter-unityads:5.9.85"
    api "com.unity3d.ads:unity-ads:4.2.1"

    //Ironsource
    api "com.anythink.sdk:adapter-ironsource:5.9.85"
    api "com.ironsource.sdk:mediationsdk:7.2.3.1"
    api "com.google.android.gms:play-services-appset:16.0.0"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"
    api "com.google.android.gms:play-services-basement:17.1.1"

    //Tapjoy
    api "com.anythink.sdk:adapter-tapjoy:5.9.85"
    api "com.tapjoy:tapjoy-android-sdk:12.9.0@aar"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //AdColony
    api "com.anythink.sdk:adapter-adcolony:5.9.85"
    api "com.adcolony:sdk:4.8.0"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //Pangle
    api "com.anythink.sdk:adapter-pangle-nonchina:5.9.85"
    api "com.pangle.global:ads-sdk:4.5.0.3"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //Kidoz
    api "com.anythink.sdk:adapter-kidoz:5.9.85"
    api "net.kidoz.sdk:kidoz-android-native:8.9.3"
    api "org.greenrobot:eventbus:3.2.0"

    //Huawei
    api "com.anythink.sdk:adapter-huawei-nonchina:5.9.85"
    api "com.huawei.hms:ads-lite:13.4.54.300"

    //Facebook
    api "com.anythink.sdk:adapter-facebook:5.9.85"
    api "com.facebook.android:audience-network-sdk:6.11.0"
    api "androidx.annotation:annotation:1.0.0"

    //Admob
    api "com.anythink.sdk:adapter-admob:5.9.85"
    api "com.google.android.gms:play-services-ads:21.0.0"

    //Inmobi
    api "com.anythink.sdk:adapter-inmobi:5.9.85"
    api "com.inmobi.monetization:inmobi-ads:10.0.5"
    api "com.squareup.picasso:picasso:2.71828"
    api "androidx.browser:browser:1.3.0"
    api "androidx.recyclerview:recyclerview:1.1.0"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //AppLovin
    api "com.anythink.sdk:adapter-applovin:5.9.85"
    api "com.applovin:applovin-sdk:11.4.4"

    //Mintegral
    api "com.anythink.sdk:adapter-mintegral-nonchina:5.9.85"
    api "com.mbridge.msdk.oversea:reward:16.1.71"
    api "com.mbridge.msdk.oversea:newinterstitial:16.1.71"
    api "com.mbridge.msdk.oversea:mbnative:16.1.71"
    api "com.mbridge.msdk.oversea:interstitial:16.1.71"
    api "com.mbridge.msdk.oversea:mbsplash:16.1.71"
    api "com.mbridge.msdk.oversea:mbnativeadvanced:16.1.71"
    api "com.mbridge.msdk.oversea:mbbanner:16.1.71"
    api "com.mbridge.msdk.oversea:mbbid:16.1.71"
    api "androidx.recyclerview:recyclerview:1.1.0"

    //Chartboost
    api "com.anythink.sdk:adapter-chartboost:5.9.85"
    api "com.chartboost:chartboost-sdk:8.2.1"
    api "com.chartboost:helium:2.2.1"
    api "org.greenrobot:eventbus:3.2.0"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"
    api "com.google.android.gms:play-services-base:17.5.0"

    //Mytarget
    api "com.anythink.sdk:adapter-mytarget:5.9.85"
    api "com.my.target:mytarget-sdk:5.15.1"

    //Yandex
    api "com.anythink.sdk:adapter-yandex:5.9.85.1"
    api "com.yandex.android:mobileads:5.2.0"
    api "com.yandex.android:mobmetricalib:5.0.0"

    //Fyber
    api "com.anythink.sdk:adapter-fyber:5.9.85"
    api "com.fyber:marketplace-sdk:8.1.2"
    api "com.google.android.gms:play-services-ads-identifier:17.0.0"

    //Ogury
    api "com.anythink.sdk:adapter-ogury:5.9.85"
    api "co.ogury:ogury-sdk:5.2.0"

    implementation 'androidx.recyclerview:recyclerview:1.1.0'

    implementation 'androidx.appcompat:appcompat:1.1.0'
    implementation 'androidx.browser:browser:1.0.0'

    api 'androidx.multidex:multidex:2.0.1'

    //Helium
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.0'

    //ironSource
    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.4.32'

    implementation ('androidx.preference:preference:1.1.1') {
        exclude module: 'recyclerview'
    }

    implementation ('com.google.android.exoplayer:exoplayer:2.16.1'){
        exclude module: 'recyclerview'
    }


}
